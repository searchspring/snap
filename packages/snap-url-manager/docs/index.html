<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@searchspring/snap-url-manager</title><meta name="description" content="Documentation for @searchspring/snap-url-manager"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@searchspring/snap-url-manager</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@searchspring/snap-url-manager</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#snap-url-manager" id="snap-url-manager" style="color: inherit; text-decoration: none;">
  <h1>Snap URL Manager</h1>
</a>
<p>The Snap URL manager is a service that provides customizable frontend URL management and a means to subscribe to the URL for changes. It&#39;s primary purpose is to provide a standard API to manage URL across Snap products.</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<pre><code class="language-sh"><span class="hl-0">npm install --save-dev @searchspring/url-manager</span>
</code></pre>

<a href="#import" id="import" style="color: inherit; text-decoration: none;">
  <h2>Import</h2>
</a>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">UrlManager</span><span class="hl-0">, </span><span class="hl-2">UrlTranslator</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@searchspring/url-manager&#39;</span><span class="hl-0">;</span>
</code></pre>

<a href="#instantiation" id="instantiation" style="color: inherit; text-decoration: none;">
  <h2>Instantiation</h2>
</a>
<p>The UrlManager class takes one parameter. This is the translator that manages your URL scheme, as well as rules for updating the URL. For now, we&#39;ll use the included translator that uses query strings and hash fragments and utilizes pushState to modify the URL in the browser.</p>
<p>See <a href="https://github.com/searchspring/snap/tree/main/packages/snap-url-manager/src/Translators">Translators</a> for more info.</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlManager</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlTranslator</span><span class="hl-0">());</span>
</code></pre>
<p>Depending on the translator, the instantiated url manager will automatically start tracking from the browser URL.</p>

<a href="#navigate-to-another-location-using-transforms" id="navigate-to-another-location-using-transforms" style="color: inherit; text-decoration: none;">
  <h2>Navigate to another location using transforms.</h2>
</a>
<p>Let&#39;s add a new parameter, <code>page=2</code>, to the browser&#39;s address bar.</p>
<pre><code class="language-js"><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">merge</span><span class="hl-0">({ </span><span class="hl-2">page:</span><span class="hl-0"> </span><span class="hl-7">2</span><span class="hl-0"> }).</span><span class="hl-6">go</span><span class="hl-0">();</span>
</code></pre>
<p>In this example, we first created a new url manager with internal state that reflects <code>page=2</code> . Url managers are never directly modified, but when merging or setting parameters, a new url manager is created with a new state.</p>
<p>We then updated the browser&#39;s address bar using <code>urlManager.go()</code> on the newly created url manager. Since the query string config translator is utilizing <code>location.pushState</code> behind the scenes,
this is the mechanism behind which the browsers address bar is updated in this example.</p>
<p>There are three functions to update one or more URL parameters: <code>set</code>, <code>merge</code> and <code>remove</code> . These functions are called transforms.</p>
<p>When using <code>set</code>, other parameters will be clobbered and the URL will be set to exactly match the object passed in. All transforms can specify a path as the first parameter.</p>
<p>Paths can be expressed in either of these formats:
<code>&#39;some.longer.path&#39;</code> or <code>[&#39;some&#39;, &#39;longer&#39;, &#39;path&#39;]</code></p>
<p>Therefore, you can also accomplish this same transformation with the following:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newManager</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(</span><span class="hl-3">&#39;page&#39;</span><span class="hl-0">, </span><span class="hl-7">2</span><span class="hl-0">);</span>
</code></pre>
<p>The page parameter can be removed with the following:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newManager</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">remove</span><span class="hl-0">(</span><span class="hl-3">&#39;page&#39;</span><span class="hl-0">);</span>
</code></pre>
<p>Setting a value in a longer, nested path would look like this:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newManager</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(</span><span class="hl-3">&#39;facets.color&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;blue&#39;</span><span class="hl-0">);</span>
</code></pre>
<p>This will produce 1 value for <code>facets.color</code> and remove any others.</p>
<p>For multiple values:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">newManager</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><br/><span class="hl-0">    .</span><span class="hl-6">merge</span><span class="hl-0">(</span><span class="hl-3">&#39;facets.color&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;blue&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">    .</span><span class="hl-6">merge</span><span class="hl-0">(</span><span class="hl-3">&#39;facets.color&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;red&#39;</span><span class="hl-0">);</span>
</code></pre>

<a href="#href-property" id="href-property" style="color: inherit; text-decoration: none;">
  <h2><code>href</code> property</h2>
</a>
<p>You can access a url manager&#39;s href property at any time with</p>
<pre><code class="language-js"><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">;</span>
</code></pre>

<a href="#many-copies" id="many-copies" style="color: inherit; text-decoration: none;">
  <h2>Many copies</h2>
</a>
<p>There may be cases where you want multiple URL states stored for various purposes. Since
<code>set</code>, <code>merge</code>, and <code>remove</code> create modified copies, instances can be created and utilized from multiple sources. Snap <code>stores</code> already handle the process of attaching `UrlManager&#39; instances where needed, for example for pagination, facets, sorting, etc... Here is an example of how creating them for a facet&#39;s individual values might look:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">facetValuesWithUrls</span><span class="hl-0"> = (</span><span class="hl-2">facet</span><span class="hl-0">, </span><span class="hl-2">facetValues</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-2">facetValues</span><span class="hl-0">.</span><span class="hl-6">map</span><span class="hl-0">((</span><span class="hl-2">facetValue</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">return</span><span class="hl-0"> {</span><br/><span class="hl-0">            ...</span><span class="hl-2">facetValue</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-2">url:</span><span class="hl-0"> </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">merge</span><span class="hl-0">([</span><span class="hl-3">&#39;facet&#39;</span><span class="hl-0">, </span><span class="hl-2">facet</span><span class="hl-0">.</span><span class="hl-2">field</span><span class="hl-0">], </span><span class="hl-2">facetValue</span><span class="hl-0">.</span><span class="hl-2">value</span><span class="hl-0">),</span><br/><span class="hl-0">        };</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">};</span>
</code></pre>
<p>Now, you can pass these as props to a Preact component:</p>
<pre><code class="language-js"><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-8">FacetValue</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">render</span><span class="hl-0">({ </span><span class="hl-2">facet</span><span class="hl-0">, </span><span class="hl-2">value</span><span class="hl-0"> }) {</span><br/><span class="hl-0">        </span><span class="hl-1">return</span><span class="hl-0"> (</span><br/><span class="hl-0">            </span><span class="hl-9">&lt;</span><span class="hl-10">li</span><span class="hl-9">&gt;</span><br/><span class="hl-0">                </span><span class="hl-9">&lt;</span><span class="hl-10">a</span><br/><span class="hl-0">                    </span><span class="hl-11">href</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-12"> </span><span class="hl-2">value</span><span class="hl-12">.</span><span class="hl-2">url</span><span class="hl-12">.</span><span class="hl-2">href</span><span class="hl-12"> </span><span class="hl-4">}</span><br/><span class="hl-0">                    </span><span class="hl-11">onClick</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-12">(</span><span class="hl-2">ev</span><span class="hl-12">) </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">                        </span><span class="hl-2">ev</span><span class="hl-12">.</span><span class="hl-6">preventDefault</span><span class="hl-12">();</span><br/><br/><span class="hl-12">                        </span><span class="hl-2">value</span><span class="hl-12">.</span><span class="hl-2">url</span><span class="hl-12">.</span><span class="hl-6">go</span><span class="hl-12">();</span><br/><span class="hl-12">                    }</span><span class="hl-4">}</span><br/><span class="hl-0">                </span><span class="hl-9">&gt;</span><br/><span class="hl-0">                    </span><span class="hl-4">{</span><span class="hl-2">value</span><span class="hl-12">.</span><span class="hl-2">label</span><span class="hl-4">}</span><br/><span class="hl-0">                </span><span class="hl-9">&lt;/</span><span class="hl-10">a</span><span class="hl-9">&gt;</span><br/><span class="hl-0">            </span><span class="hl-9">&lt;/</span><span class="hl-10">li</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        );</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span>
</code></pre>
<p>Since the <code>UrlTranslator</code> is utilizing <code>pushState</code> it is important to prevent the default behavior as shown in the <code>onClick</code> above. Each translator can be instantiated with a <code>Linker</code> to make this even easier:</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">UrlManager</span><span class="hl-0">, </span><span class="hl-2">UrlTranslator</span><span class="hl-0">, </span><span class="hl-2">reactLinker</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@searchspring/snap-url-manager&#39;</span><span class="hl-0">;</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlManager</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlTranslator</span><span class="hl-0">(), </span><span class="hl-2">reactLinker</span><span class="hl-0">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-8">FacetValue</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">render</span><span class="hl-0">({ </span><span class="hl-2">facet</span><span class="hl-0">, </span><span class="hl-2">value</span><span class="hl-0"> }) {</span><br/><span class="hl-0">        </span><span class="hl-1">return</span><span class="hl-0"> (</span><br/><span class="hl-0">            </span><span class="hl-9">&lt;</span><span class="hl-10">li</span><span class="hl-9">&gt;</span><br/><span class="hl-0">                </span><span class="hl-9">&lt;</span><span class="hl-10">a</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0">...</span><span class="hl-2">value</span><span class="hl-12">.</span><span class="hl-2">url</span><span class="hl-12">.</span><span class="hl-2">link</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><span class="hl-4">{</span><span class="hl-2">value</span><span class="hl-12">.</span><span class="hl-2">label</span><span class="hl-4">}</span><span class="hl-9">&lt;/</span><span class="hl-10">a</span><span class="hl-9">&gt;</span><br/><span class="hl-0">            </span><span class="hl-9">&lt;/</span><span class="hl-10">li</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        );</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span>
</code></pre>
<p>See <a href="https://github.com/searchspring/snap/tree/main/packages/snap-url-manager/src/linkers">Linkers</a> for more info.</p>

<a href="#subscribe-to-url-changes" id="subscribe-to-url-changes" style="color: inherit; text-decoration: none;">
  <h2>Subscribe to URL changes</h2>
</a>
<p>You can subscribe to URL changes like so:</p>
<pre><code class="language-js"><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">subscribe</span><span class="hl-0">((</span><span class="hl-2">prev</span><span class="hl-0">, </span><span class="hl-2">next</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">prev</span><span class="hl-0">, </span><span class="hl-2">next</span><span class="hl-0">);</span><br/><span class="hl-0">});</span>
</code></pre>
<p>This callback is executed any time one of the url manager&#39;s <code>go</code> function is called.</p>
<p>The callback is passed two parameters: <code>prev</code> and <code>next</code>.</p>
<p><code>next</code> is the new state formed by a combination of the browsers URL, as well as any transformations done to the <code>urlManager</code> instance after it was either instantiated or copied using another urlManager&#39;s <code>copy</code> function.</p>
<p><code>prev</code> is the previous state from this urlManager instance.</p>

<a href="#auto-synchronize-with-url-change" id="auto-synchronize-with-url-change" style="color: inherit; text-decoration: none;">
  <h2>Auto-synchronize with URL change</h2>
</a>
<p>Remember that url manager&#39;s internal state is never directly mutated, but instead, transforms return a fresh copy with a new
state. However, the internal state is always a modification on the <em>current</em> URL.</p>
<p>Take the following example:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlManager</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlTranslator</span><span class="hl-0">());</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManagerWithColor</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">merge</span><span class="hl-0">(</span><span class="hl-3">&#39;filter.color_family&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;blue&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">window</span><span class="hl-0">.</span><span class="hl-2">location</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// https://try.searchspring.com?q=dress</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithColor</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/filter:color_family:Blue</span>
</code></pre>
<p>You can see that the href of <code>urlManager</code> matches the parameters of the page URL, while <code>urlManagerWithColor</code> has an additional parameter.</p>
<p>Now let&#39;s navigate to a new URL using the <code>go</code> function and check the href&#39;s again:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManagerWithNewParam</span><span class="hl-0"> = </span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-6">merge</span><span class="hl-0">({ </span><span class="hl-2">newParam:</span><span class="hl-0"> </span><span class="hl-3">&#39;newValue&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-2">urlManagerWithNewParam</span><span class="hl-0">.</span><span class="hl-6">go</span><span class="hl-0">();</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">window</span><span class="hl-0">.</span><span class="hl-2">location</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// https://try.searchspring.com?q=dress#/newParam:newValue</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/newParam:newValue</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithNewParam</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/newParam:newValue</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithColor</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/filter:color_family:Blue/newParam:newValue</span>
</code></pre>
<p>As you can see, when calling <code>go()</code> all the URL managers were updated and know about the new URL parameter <code>newParam</code> while the internal
state of <code>urlManagerWithColor</code> remains unmodified. This holds true for removals as well:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">urlManagerWithColorButWithoutNewParam</span><span class="hl-0"> = </span><span class="hl-2">urlManagerWithColor</span><span class="hl-0">.</span><span class="hl-6">remove</span><span class="hl-0">(</span><span class="hl-3">&#39;newParam&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/newParam:newValue</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithNewParam</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/newParam:newValue</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithColor</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/filter:color_family:Blue/newParam:newValuecolor=blue</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">urlManagerWithColorButWithoutNewParam</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?q=dress#/filter:color_family:Blue</span>
</code></pre>
<p><strong>Note:</strong> UrlManagers with different instantiations will not notify each other about URL updates. For example:</p>
<pre><code class="language-js"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">originalUrlManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlManager</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">QueryStringTranslator</span><span class="hl-0">());</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">secondaryUrlManager</span><span class="hl-0"> = </span><span class="hl-2">originalUrlManager</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">disconnectedUrlManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">UrlManager</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">QueryStringTranslator</span><span class="hl-0">());</span><br/><br/><span class="hl-2">originalUrlManager</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(</span><span class="hl-3">&#39;example&#39;</span><span class="hl-0">, </span><span class="hl-3">&#39;1&#39;</span><span class="hl-0">).</span><span class="hl-6">go</span><span class="hl-0">();</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">originalUrlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?example=1</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">secondaryUrlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// ?example=1&amp;foo=bar</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">disconnectedUrlManager</span><span class="hl-0">.</span><span class="hl-2">href</span><span class="hl-0">); </span><span class="hl-13">// / (empty)</span>
</code></pre>
<p>For performance reasons, the url managers do not contain watchers or otherwise poll for URL changes. Instead, they rely upon the copy mechanism behind the transform functions to notify each other of changes.</p>
<p>Since a <code>UrlManager</code> internal state is immutable, you do not have to worry about unintended side effects. The only side effect is changes to the URL itself, which is intended!</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/NoopTranslator.html" class="tsd-kind-icon">Noop<wbr/>Translator</a></li><li class="tsd-kind-class"><a href="classes/QueryStringTranslator.html" class="tsd-kind-icon">Query<wbr/>String<wbr/>Translator</a></li><li class="tsd-kind-class"><a href="classes/UrlManager.html" class="tsd-kind-icon">Url<wbr/>Manager</a></li><li class="tsd-kind-class"><a href="classes/UrlTranslator.html" class="tsd-kind-icon">Url<wbr/>Translator</a></li><li class="tsd-kind-interface"><a href="interfaces/Translator.html" class="tsd-kind-icon">Translator</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UrlState" class="tsd-kind-icon">Url<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UrlTranslatorConfig" class="tsd-kind-icon">Url<wbr/>Translator<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UrlTranslatorParametersConfig" class="tsd-kind-icon">Url<wbr/>Translator<wbr/>Parameters<wbr/>Config</a></li><li class="tsd-kind-function"><a href="modules.html#reactLinker" class="tsd-kind-icon">react<wbr/>Linker</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>