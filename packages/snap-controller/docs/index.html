<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@searchspring/snap-controller</title>
	<meta name="description" content="Documentation for @searchspring/snap-controller">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@searchspring/snap-controller</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@searchspring/snap-controller</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#snap-controller" id="snap-controller" style="color: inherit; text-decoration: none;">
					<h1>Snap Controller</h1>
				</a>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-controller"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-controller.svg?style=flat"></a></p>
				<p>The heart of controlling Search, Autocomplete, &amp; Finder functionality. The Controller is responsible for tying various Snap services together.</p>
				<hr>
				<a href="#dependencies" id="dependencies" style="color: inherit; text-decoration: none;">
					<h1>Dependencies</h1>
				</a>
				<p>Snap Controller is a top-level package that requires the following dependencies as services:</p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-client"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-client.svg?style=flat"></a> <a href="../snap-client">@searchspring/snap-client</a></p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-store-mobx"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-store-mobx.svg?style=flat"></a> <a href="../snap-store-mobx">@searchspring/snap-store-mobx</a></p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-url-manager"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-url-manager.svg?style=flat"></a> <a href="../snap-url-manager">@searchspring/snap-url-manager</a></p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-event-manager"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-event-manager.svg?style=flat"></a> <a href="../snap-event-manager">@searchspring/snap-event-manager</a></p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-profiler"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-profiler.svg?style=flat"></a> <a href="../snap-profiler">@searchspring/snap-profiler</a></p>
				<p><a href="https://www.npmjs.com/package/@searchspring/snap-logger"><img alt="NPM Status" src="https://img.shields.io/npm/v/@searchspring/snap-logger.svg?style=flat"></a> <a href="../snap-logger">@searchspring/snap-logger</a></p>
				<details>
					<summary>Package dependencies hierarchy</summary>
					<br/>
					<img src="../../images/snap-dependencies.jpg"/>
				</details>
				<br>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h1>Installation</h1>
				</a>
				<p>To install the <code>snap-controller</code> package and it&#39;s services:</p>
				<pre><code class="language-bash"><span style="color: #000000">npm install --save @searchspring/snap-controller @searchspring/snap-client @searchspring/snap-store-mobx @searchspring/snap-url-manager @searchspring/snap-event-manager @searchspring/snap-profiler @searchspring/snap-logger</span>
</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h1>Usage</h1>
				</a>
				<a href="#instantiation" id="instantiation" style="color: inherit; text-decoration: none;">
					<h2>Instantiation</h2>
				</a>
				<p>Each <code>Controller</code> must be passed a configuration object as the first parameter to the constructor, and a services object (dependencies) as the second. The contents of these objects will depend on which type of <code>Controller</code> is being instantiated. For example, a <code>SearchController</code> would usually be paired with a <code>SearchStore</code> service, and would take a <code>SearchControllerConfig</code> configuration object.</p>
				<p>The complete example below shows how a <code>SearchController</code> could be instatiated, initialized and searched:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">SearchController</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-controller&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">SnapClient</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-client&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">SearchStore</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-store-mobx&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UrlManager</span><span style="color: #000000">, </span><span style="color: #001080">UrlTranslator</span><span style="color: #000000">, </span><span style="color: #001080">reactLinker</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-url-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EventManager</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-event-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Profiler</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-profiler&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Logger</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-logger&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">configuration</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;search&#039;</span>
<span style="color: #000000">};</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">services</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">client:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SnapClient</span><span style="color: #000000">({ </span><span style="color: #001080">siteId:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;abc123&#039;</span><span style="color: #000000"> }),</span>
<span style="color: #000000">    </span><span style="color: #001080">store:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SearchStore</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">urlManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlManager</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlTranslator</span><span style="color: #000000">(), </span><span style="color: #001080">reactLinker</span><span style="color: #000000">),</span>
<span style="color: #000000">    </span><span style="color: #001080">eventManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EventManager</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">profiler:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Profiler</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">logger:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Logger</span><span style="color: #000000">()</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">controller</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SearchController</span><span style="color: #000000">(</span><span style="color: #001080">configuration</span><span style="color: #000000">, </span><span style="color: #001080">services</span><span style="color: #000000">);</span>
<span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #795E26">init</span><span style="color: #000000">();</span>
<span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#configuration" id="configuration" style="color: inherit; text-decoration: none;">
					<h2>Configuration</h2>
				</a>
				<p>The configuration object provided during instantiation provides a way of configuring the controller for different behavior. Each controller type (<code>SearchController</code>, <code>AutocompleteController</code>, <code>FinderController</code>, etc...) has default configurations that can be modified with the instantiation configuration object. At minimum an <code>id</code> attribute is required for identifying controllers. The <code>id</code> should be unique to each <em>instance</em> of a controller.</p>
				<a href="#services" id="services" style="color: inherit; text-decoration: none;">
					<h2>Services</h2>
				</a>
				<p>Along with a configuration, each controller is passed a collection of services during instantiation. These services are then used by the controller and made available via controller methods. Sometimes controllers might share a reference to a service (the <code>client</code> service for example), but in most cases a controller will have it&#39;s own instance of a service.</p>
				<pre><code class="language-typescript"><span style="color: #000000">{ </span><span style="color: #001080">client</span><span style="color: #000000">, </span><span style="color: #001080">store</span><span style="color: #000000">, </span><span style="color: #001080">urlManager</span><span style="color: #000000">, </span><span style="color: #001080">eventManager</span><span style="color: #000000">, </span><span style="color: #001080">profiler</span><span style="color: #000000">, </span><span style="color: #001080">logger</span><span style="color: #000000"> }</span>
</code></pre>
				<a href="#client" id="client" style="color: inherit; text-decoration: none;">
					<h3>client</h3>
				</a>
				<p>The <code>client</code> service makes the requests to the API when the controller <code>search</code> method is called. The response is passed onto the <code>store</code> service. This service is exposed as <code>controller.client</code>.</p>
				<a href="#store" id="store" style="color: inherit; text-decoration: none;">
					<h3>store</h3>
				</a>
				<p>This service mutates the API responses and adds convenience functions for common functionality. The <code>store</code> data is then used by the UI components for display. This service is exposed as <code>controller.store</code>.</p>
				<a href="#urlmanager" id="urlmanager" style="color: inherit; text-decoration: none;">
					<h3>urlManager</h3>
				</a>
				<p><code>urlManager</code> is responsible for updating the page URL when interacting with UI components. The type of translator passed into the <code>UrlManager</code> constructor will determine the types of URLs generated. This service is exposed as <code>controller.urlManager</code>.</p>
				<a href="#eventmanager" id="eventmanager" style="color: inherit; text-decoration: none;">
					<h3>eventManager</h3>
				</a>
				<p>Middleware provide an opportunity to hook into these events they occur. Middleware are attached to events, and these events are managed by the <code>eventManager</code>. This service is exposed as <code>controller.eventManager</code>.</p>
				<a href="#profiler" id="profiler" style="color: inherit; text-decoration: none;">
					<h3>profiler</h3>
				</a>
				<p>Controllers may need to know how long a certain event took, the <code>profiler</code> service provides the means to track this information. This service is exposed as <code>controller.profiler</code>.</p>
				<a href="#logger" id="logger" style="color: inherit; text-decoration: none;">
					<h3>logger</h3>
				</a>
				<p>The <code>logger</code> service provides logging functionality to a controller. Each controller logs when errors in middleware and when controller events occur. The logger is responsible for sending this information to the developer console. In addition the logger may provide additional emoji or colors to use. This service is exposed as <code>controller.log</code>.</p>
				<a href="#initialization" id="initialization" style="color: inherit; text-decoration: none;">
					<h2>Initialization</h2>
				</a>
				<p>Invoking the <code>init</code> method is required to subscribe to changes that occur in the UrlManager. It also fires the <code>init</code> event which executes attached middleware. This should happen prior to any calls to the controller <code>search</code> method.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #795E26">init</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#searching" id="searching" style="color: inherit; text-decoration: none;">
					<h2>Searching</h2>
				</a>
				<p>The <code>search</code> method of a controller will run the search that is expected by leveraging the <code>client</code> service to make the request; the subsequent response will be passed to the <code>store</code> service.</p>
				<p>Most controllers will provide a means of manipulating the request and response using <code>beforeSearch</code> and <code>afterSearch</code> events respectively. Read on for details about events.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#stores" id="stores" style="color: inherit; text-decoration: none;">
					<h2>Stores</h2>
				</a>
				<p>Different controller types will utilize different Snap Stores (typically of the same name). Each <code>store</code> will provide different properties and methods for its unique purposes. See the documentation for more details.</p>
				<a href="#events" id="events" style="color: inherit; text-decoration: none;">
					<h2>Events</h2>
				</a>
				<p>Each controller will fire various events. Some of the event names are shared between controllers for consistency (ex: <code>beforeSearch</code>, <code>afterSearch</code>, <code>afterStore</code>); however the attaching of middleware and execution of it must remain separate. This is why a new <code>EventManager</code> instance is created for each controller. Middleware are attached to events via the <code>on</code> method and the functions should almost always end with <code>await next()</code> unless purposefully preventing the next attached middleware from executing.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;init&#039;</span><span style="color: #000000">, </span><span style="color: #0000FF">async</span><span style="color: #000000"> (</span><span style="color: #001080">eventData</span><span style="color: #000000">, </span><span style="color: #001080">next</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">controller</span><span style="color: #000000"> } = </span><span style="color: #001080">eventData</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #001080">log</span><span style="color: #000000">.</span><span style="color: #795E26">debug</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;init event has occurred&#039;</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">next</span><span style="color: #000000">();</span>
<span style="color: #000000">});</span>
</code></pre>
				<p>Note: Groups of middleware (plugins) can be attached using the <code>use</code> method.</p>
				<p>The data available within a middleware (first parameter) is determined by what gets passed into the <code>fire</code> method. For existing events on the controller, the <code>fire</code> method is already being called when appropriate to the event, and the <code>eventData</code> will typically be an object containing a reference to the controller and any other details that may be of importance to the particular event. Custom events can be created as needed; but keep in mind that any middleware tied to the event should be bound (using <code>on</code> or <code>use</code>) prior to executing the <code>fire</code> method.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #001080">eventManager</span><span style="color: #000000">.</span><span style="color: #795E26">fire</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;customEventName&#039;</span><span style="color: #000000">, { </span><span style="color: #001080">thing1:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;one&#039;</span><span style="color: #000000">, </span><span style="color: #001080">thing2:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> });</span>
</code></pre>
				<p>See the EventManager documentation for more details.</p>
				<a href="#environment" id="environment" style="color: inherit; text-decoration: none;">
					<h2>Environment</h2>
				</a>
				<p>A controller&#39;s environment is initialized at build time, and is used to control certain runtime behavior. For example, a <code>production</code> build will supress most logs while a <code>development</code> build will show them all.</p>
				<a href="#logging" id="logging" style="color: inherit; text-decoration: none;">
					<h2>Logging</h2>
				</a>
				<p>The logger provides a clear way of outputting details like profile data or errors to the developer console. A <code>production</code> build will supress most logs while a <code>development</code> build will show them all. The environment is automatically determined, but can be toggled during runtime by setting it to either <code>development</code> or <code>production</code>.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #001080">environment</span><span style="color: #000000"> = </span><span style="color: #A31515">&#039;development&#039;</span><span style="color: #000000">;</span>
</code></pre>
				<p>The use of <code>console.log()</code> is discouraged. Logging should be done via controller instance to help debug and navigate the sea of console logs. Each controller will output the <code>id</code> for easily deciphering which controller made the log.</p>
				<pre><code class="language-typescript"><span style="color: #001080">controller</span><span style="color: #000000">.</span><span style="color: #001080">log</span><span style="color: #000000">.</span><span style="color: #795E26">warn</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;THIS IS A WARNING!&#039;</span><span style="color: #000000">);</span>
</code></pre>
				<p>Many logs are supressed depending on a development <code>environment</code> of the controller instance. The Logger documentation provides more details about the various methods, colors and emoji available.</p>
				<a href="#controller-types" id="controller-types" style="color: inherit; text-decoration: none;">
					<h1>Controller Types</h1>
				</a>
				<p>Each <code>Controller</code> has a unique configuration and set of default events; it may also provide additional methods for specific functionality.</p>
				<h2 id="SearchController">SearchController</h2>
				<p>The <code>SearchController</code> is used when making queries to the API <code>search</code> endpoint.</p>
				<a href="#searchcontrollerconfig" id="searchcontrollerconfig" style="color: inherit; text-decoration: none;">
					<h3>SearchControllerConfig</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>option</th>
							<th>description</th>
							<th>default value</th>
							<th>required</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>id</td>
							<td>unique identifier for this controller</td>
							<td>:heavy_minus_sign:</td>
							<td>:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>globals</td>
							<td>keys defined here will be passed to the API request (can overwrite global config)</td>
							<td>:heavy_minus_sign:</td>
							<td></td>
						</tr>
						<tr>
							<td>settings.redirects.merchandising</td>
							<td>enable merchandising redirects</td>
							<td>true</td>
							<td></td>
						</tr>
						<tr>
							<td>settings.redirects.singleResult</td>
							<td>enable redirect to product detail page if search yields 1 result count</td>
							<td>true</td>
							<td></td>
						</tr>
						<tr>
							<td>settings.facets.trim</td>
							<td>facets that do not change results will be removed</td>
							<td>true</td>
							<td></td>
						</tr>
				</tbody></table>
				<br>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">searchConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;search&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">globals:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">pagination:</span><span style="color: #000000"> {</span>
<span style="color: #000000">            </span><span style="color: #001080">pageSize:</span><span style="color: #000000"> </span><span style="color: #098658">12</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">};</span>
</code></pre>
				<a href="#instantiate" id="instantiate" style="color: inherit; text-decoration: none;">
					<h3>Instantiate</h3>
				</a>
				<p><code>SearchController</code> requires a <code>SearchControllerConfig</code> and <code>ControllerServices</code> object and is usually paired with a <code>SearchStore</code>.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">SearchController</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-controller&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">SnapClient</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-client&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">SearchStore</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-store-mobx&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UrlManager</span><span style="color: #000000">, </span><span style="color: #001080">UrlTranslator</span><span style="color: #000000">, </span><span style="color: #001080">reactLinker</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-url-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EventManager</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-event-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Profiler</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-profiler&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Logger</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-logger&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">searchController</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SearchController</span><span style="color: #000000">(</span><span style="color: #001080">searchConfig</span><span style="color: #000000">, {</span>
<span style="color: #000000">    </span><span style="color: #001080">client:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SnapClient</span><span style="color: #000000">({ </span><span style="color: #001080">siteId:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;abc123&#039;</span><span style="color: #000000"> }),</span>
<span style="color: #000000">    </span><span style="color: #001080">store:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SearchStore</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">urlManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlManager</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlTranslator</span><span style="color: #000000">(), </span><span style="color: #001080">reactLinker</span><span style="color: #000000">),</span>
<span style="color: #000000">    </span><span style="color: #001080">eventManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EventManager</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">profiler:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Profiler</span><span style="color: #000000">(),</span>
<span style="color: #000000">    </span><span style="color: #001080">logger:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Logger</span><span style="color: #000000">()</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#initialize" id="initialize" style="color: inherit; text-decoration: none;">
					<h3>Initialize</h3>
				</a>
				<p>Invoking the <code>init</code> method is required to subscribe to changes that occur in the UrlManager.</p>
				<pre><code class="language-typescript"><span style="color: #001080">searchController</span><span style="color: #000000">.</span><span style="color: #795E26">init</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#search" id="search" style="color: inherit; text-decoration: none;">
					<h3>Search</h3>
				</a>
				<p>This will invoke a search request to Searchspring&#39;s search API and populate the store with the response.</p>
				<pre><code class="language-typescript"><span style="color: #001080">searchController</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#events-1" id="events-1" style="color: inherit; text-decoration: none;">
					<h3>Events</h3>
				</a>
				<a href="#init" id="init" style="color: inherit; text-decoration: none;">
					<h4>init</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller }</li>
					<li>Always invoked by a call to the <code>init</code> controller method</li>
				</ul>
				<a href="#beforesearch" id="beforesearch" style="color: inherit; text-decoration: none;">
					<h4>beforeSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request }</li>
					<li>Always invoked before an API request is made </li>
					<li>Sets <code>controller.store.loading = true</code></li>
				</ul>
				<a href="#aftersearch" id="aftersearch" style="color: inherit; text-decoration: none;">
					<h4>afterSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after an API request is made </li>
					<li>Invokes <code>window.location.replace()</code> if API response contains merchandising redirects AND if <code>config.settings.redirects.merchandising = true</code> (default)</li>
					<li>Invokes <code>window.location.replace()</code> to redirect to product detail page if API response returned a single product AND <code>config.settings.redirects.singleResult = true</code> (default)</li>
					<li>Sets <code>controller.store.loading = false</code></li>
				</ul>
				<a href="#afterstore" id="afterstore" style="color: inherit; text-decoration: none;">
					<h4>afterStore</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after data has been stored in mobx store</li>
				</ul>
				<h2 id="AutocompleteController">AutocompleteController</h2>
				<p>The <code>AutocompleteController</code> is used when making queries to the API <code>autocomplete</code> endpoint. It can also bind events to DOM elements to handle user input of queries.</p>
				<a href="#autocompletecontrollerconfig" id="autocompletecontrollerconfig" style="color: inherit; text-decoration: none;">
					<h3>AutocompleteControllerConfig</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>option</th>
							<th>description</th>
							<th align="center">default value</th>
							<th align="center">required</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>id</td>
							<td>unique identifier for this controller</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>selector</td>
							<td>css selector for input elements that DOM events should be bound to</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>action</td>
							<td>optional way to override the form action or provide one when it does not exist</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>globals</td>
							<td>keys defined here will be passed to the API request (can overwrite global config)</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>settings.initializeFromUrl</td>
							<td>initialize the controller with query parameter from URL (pre-fill input with current search)</td>
							<td align="center">true</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>settings.syncInputs</td>
							<td>if the selector targets multiple inputs, the value of those inputs will be synced</td>
							<td align="center">false</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>settings.facets.trim</td>
							<td>facets that do not change results will be removed</td>
							<td align="center">true</td>
							<td align="center"></td>
						</tr>
				</tbody></table>
				<br>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">autocompleteConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;autocomplete&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">selector:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;#searchInput&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">settings:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">syncInputs:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">};</span>
</code></pre>
				<a href="#instantiate-1" id="instantiate-1" style="color: inherit; text-decoration: none;">
					<h3>Instantiate</h3>
				</a>
				<p><code>AutocompleteController</code> requires an <code>AutocompleteControllerConfig</code> and <code>ControllerServices</code> object and is usually paired with an <code>AutocompleteStore</code>.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">AutocompleteController</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-controller&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">SnapClient</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-client&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">AutocompleteStore</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-store-mobx&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UrlManager</span><span style="color: #000000">, </span><span style="color: #001080">UrlTranslator</span><span style="color: #000000">, </span><span style="color: #001080">reactLinker</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-url-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EventManager</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-event-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Profiler</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-profiler&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Logger</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-logger&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">autocompleteController</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">AutocompleteController</span><span style="color: #000000">(</span><span style="color: #001080">autocompleteConfig</span><span style="color: #000000">, {</span>
<span style="color: #000000">        </span><span style="color: #001080">client:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SnapClient</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">),</span>
<span style="color: #000000">        </span><span style="color: #001080">store:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">AutocompleteStore</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">urlManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlManager</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlTranslator</span><span style="color: #000000">(), </span><span style="color: #001080">reactLinker</span><span style="color: #000000">),</span>
<span style="color: #000000">        </span><span style="color: #001080">eventManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EventManager</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">profiler:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Profiler</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">logger:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Logger</span><span style="color: #000000">()</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">));</span>
</code></pre>
				<a href="#initialize-1" id="initialize-1" style="color: inherit; text-decoration: none;">
					<h3>Initialize</h3>
				</a>
				<p>Invoking the <code>init</code> method is required to subscribe to changes that occur in the UrlManager.</p>
				<pre><code class="language-typescript"><span style="color: #001080">autocompleteController</span><span style="color: #000000">.</span><span style="color: #795E26">init</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#bind" id="bind" style="color: inherit; text-decoration: none;">
					<h3>Bind</h3>
				</a>
				<!-- TODO: set/test link to DomTargeter -->
				<p>Invoking the <code>bind</code> method is required to attach event listeners to each input specified as <code>selector</code> in the <code>AutocompleteControllerConfig</code>.</p>
				<pre><code class="language-typescript"><span style="color: #001080">autocompleteController</span><span style="color: #000000">.</span><span style="color: #795E26">bind</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#search-1" id="search-1" style="color: inherit; text-decoration: none;">
					<h3>Search</h3>
				</a>
				<p>This will invoke a search request to Searchspring&#39;s search API and populate the store with the response. This should be automatically called by the DOM event binding that occurs when the <code>bind</code> method (see above) is invoked.</p>
				<pre><code class="language-typescript"><span style="color: #001080">autocompleteController</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#events-2" id="events-2" style="color: inherit; text-decoration: none;">
					<h3>Events</h3>
				</a>
				<a href="#init-1" id="init-1" style="color: inherit; text-decoration: none;">
					<h4>init</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller }</li>
					<li>Always invoked by a call to the <code>init</code> controller method</li>
				</ul>
				<a href="#beforesearch-1" id="beforesearch-1" style="color: inherit; text-decoration: none;">
					<h4>beforeSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request }</li>
					<li>Always invoked before an API request is made </li>
					<li>Sets <code>controller.store.loading = true</code></li>
				</ul>
				<a href="#aftersearch-1" id="aftersearch-1" style="color: inherit; text-decoration: none;">
					<h4>afterSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after an API request is made </li>
					<li>Sets <code>controller.store.loading = false</code></li>
					<li>Cancels search if input doesn&#39;t match current urlManager input state</li>
				</ul>
				<a href="#afterstore-1" id="afterstore-1" style="color: inherit; text-decoration: none;">
					<h4>afterStore</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after data has been stored in mobx store</li>
				</ul>
				<a href="#focuschange" id="focuschange" style="color: inherit; text-decoration: none;">
					<h4>focusChange</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller }</li>
					<li>Invoked when an input has been focused</li>
				</ul>
				<h2 id="FinderController">FinderController</h2>
				<p>The <code>FinderController</code> should be used for building product finders. It makes queries to the API <code>search</code> endpoint.</p>
				<a href="#findercontrollerconfig" id="findercontrollerconfig" style="color: inherit; text-decoration: none;">
					<h3>FinderControllerConfig</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>option</th>
							<th>description</th>
							<th align="center">default value</th>
							<th align="center">required</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>id</td>
							<td>unique identifier for this controller</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>url</td>
							<td>URL to be redirected to upon clicking finder&#39;s &#39;find&#39; button</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>globals</td>
							<td>keys defined here will be passed to the API request (can overwrite global config)</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>fields</td>
							<td>an array of finder field configurations</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>fields.field</td>
							<td>required field name</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center">:heavy_check_mark:</td>
						</tr>
						<tr>
							<td>fields.label</td>
							<td>optional finder label</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center"></td>
						</tr>
						<tr>
							<td>fields.levels</td>
							<td>optional finder selection levels (hierarchy only)</td>
							<td align="center">:heavy_minus_sign:</td>
							<td align="center"></td>
						</tr>
				</tbody></table>
				<br>
				<h4 id="HierarchyConfig">Hierarchy Config</h4>
				Specifying `levels` will display a dropdown for each hierarchy level. Finders that use hierarchy fields will enforce selecting dropdowns in order by disabling the following dropdowns
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">finderConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;finder&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/search&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">fields:</span><span style="color: #000000"> [</span>
<span style="color: #000000">        {</span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;ss_tire&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #001080">label:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;Wheel Finder&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #001080">levels:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;Year&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;Make&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;Model&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;Wheel Size&#039;</span><span style="color: #000000">]</span>
<span style="color: #000000">        },</span>
<span style="color: #000000">    ]</span>
<span style="color: #000000">};</span>
</code></pre>
				<p>Optionally if <code>levels</code> are not defined, a single dropdown will be displayed on the initial load. Each selection will dynamically append additional dropdowns until there are no more available selections</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">finderConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;finder&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/search&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">fields:</span><span style="color: #000000"> [</span>
<span style="color: #000000">        {</span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;ss_tire&#039;</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    ]</span>
<span style="color: #000000">};</span>
</code></pre>
				<h4 id="NonHierarchyConfig">Non-Hierarchy Config</h4>
				If using fields that are not of hierarchy type, `levels` are not required
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">finderConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;finder&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/search&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">fields:</span><span style="color: #000000"> [</span>
<span style="color: #000000">        { </span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;custom_wheel_size&#039;</span><span style="color: #000000"> </span>
<span style="color: #000000">            </span><span style="color: #001080">label</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;Size&#039;</span>
<span style="color: #000000">        }, </span>
<span style="color: #000000">        { </span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;custom_wheel_width&#039;</span><span style="color: #000000"> </span>
<span style="color: #000000">            </span><span style="color: #001080">label</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;Width&#039;</span>
<span style="color: #000000">        }, </span>
<span style="color: #000000">        { </span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;custom_wheel_bolt_pattern&#039;</span><span style="color: #000000"> </span>
<span style="color: #000000">            </span><span style="color: #001080">label</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;Bolt Pattern&#039;</span>
<span style="color: #000000">        }, </span>
<span style="color: #000000">        { </span>
<span style="color: #000000">            </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;custom_color&#039;</span>
<span style="color: #000000">            </span><span style="color: #001080">label</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;Color&#039;</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    ]</span>
<span style="color: #000000">};</span>
</code></pre>
				<a href="#instantiate-2" id="instantiate-2" style="color: inherit; text-decoration: none;">
					<h3>Instantiate</h3>
				</a>
				<p><code>FinderController</code> requires a <code>FinderControllerConfig</code> and <code>ControllerServices</code> object and is usually paired with a <code>FinderStore</code>.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">FinderController</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-controller&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">SnapClient</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-client&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">FinderStore</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-store-mobx&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UrlManager</span><span style="color: #000000">, </span><span style="color: #001080">UrlTranslator</span><span style="color: #000000">, </span><span style="color: #001080">reactLinker</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-url-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EventManager</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-event-manager&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Profiler</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-profiler&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Logger</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-logger&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">finderController</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">FinderController</span><span style="color: #000000">(</span><span style="color: #001080">finderConfig</span><span style="color: #000000">, {</span>
<span style="color: #000000">        </span><span style="color: #001080">client:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">SnapClient</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">),</span>
<span style="color: #000000">        </span><span style="color: #001080">store:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">FinderStore</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">urlManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlManager</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UrlTranslator</span><span style="color: #000000">(), </span><span style="color: #001080">reactLinker</span><span style="color: #000000">),</span>
<span style="color: #000000">        </span><span style="color: #001080">eventManager:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EventManager</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">profiler:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Profiler</span><span style="color: #000000">(),</span>
<span style="color: #000000">        </span><span style="color: #001080">logger:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Logger</span><span style="color: #000000">()</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">));</span>
</code></pre>
				<a href="#initialize-2" id="initialize-2" style="color: inherit; text-decoration: none;">
					<h3>Initialize</h3>
				</a>
				<p>Invoking the <code>init</code> method is required to subscribe to changes that occur in the UrlManager.</p>
				<pre><code class="language-typescript"><span style="color: #001080">finderController</span><span style="color: #000000">.</span><span style="color: #795E26">init</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#search-2" id="search-2" style="color: inherit; text-decoration: none;">
					<h3>Search</h3>
				</a>
				<p>This will invoke a search request to Searchspring&#39;s search API and populate the store with the response. This should be called initially and after finder selections have been made.</p>
				<pre><code class="language-typescript"><span style="color: #001080">finderController</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#find" id="find" style="color: inherit; text-decoration: none;">
					<h3>Find</h3>
				</a>
				<p>After selection(s) have been made, the user will click on a &#39;Find&#39; button. This click event should invoke the <code>find</code> method of the <code>FinderController</code> which will redirect to the specified <code>url</code> in the config, along with its selection data.</p>
				<pre><code class="language-typescript"><span style="color: #001080">finderController</span><span style="color: #000000">.</span><span style="color: #795E26">find</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#reset" id="reset" style="color: inherit; text-decoration: none;">
					<h3>Reset</h3>
				</a>
				<p>This mthod should be invoked to &#39;reset&#39; or remove all finder selections. This will also clear out any persisted selection storage data.</p>
				<pre><code class="language-typescript"><span style="color: #001080">finderController</span><span style="color: #000000">.</span><span style="color: #795E26">reset</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#events-3" id="events-3" style="color: inherit; text-decoration: none;">
					<h3>Events</h3>
				</a>
				<a href="#init-2" id="init-2" style="color: inherit; text-decoration: none;">
					<h4>init</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller }</li>
					<li>Always invoked by a call to the <code>init</code> controller method</li>
				</ul>
				<a href="#beforesearch-2" id="beforesearch-2" style="color: inherit; text-decoration: none;">
					<h4>beforeSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request }</li>
					<li>Always invoked before an API request is made </li>
					<li>Sets <code>controller.store.loading = true</code></li>
				</ul>
				<a href="#aftersearch-2" id="aftersearch-2" style="color: inherit; text-decoration: none;">
					<h4>afterSearch</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after an API request is made </li>
					<li>Sets <code>controller.store.loading = false</code></li>
				</ul>
				<a href="#afterstore-2" id="afterstore-2" style="color: inherit; text-decoration: none;">
					<h4>afterStore</h4>
				</a>
				<ul>
					<li>Called with <code>eventData</code> = { controller, request, response }</li>
					<li>Always invoked after data has been stored in mobx store</li>
					<li>no operation</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/abstractcontroller.html" class="tsd-kind-icon">Abstract<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/autocompletecontroller.html" class="tsd-kind-icon">Autocomplete<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/findercontroller.html" class="tsd-kind-icon">Finder<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/searchcontroller.html" class="tsd-kind-icon">Search<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#aftersearchobj" class="tsd-kind-icon">After<wbr>Search<wbr>Obj</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#afterstoreobj" class="tsd-kind-icon">After<wbr>Store<wbr>Obj</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#autocompletecontrollerconfig" class="tsd-kind-icon">Autocomplete<wbr>Controller<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#beforesearchobj" class="tsd-kind-icon">Before<wbr>Search<wbr>Obj</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#controllerservices" class="tsd-kind-icon">Controller<wbr>Services</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#findercontrollerconfig" class="tsd-kind-icon">Finder<wbr>Controller<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#finderfieldconfig" class="tsd-kind-icon">Finder<wbr>Field<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#nextevent" class="tsd-kind-icon">Next<wbr>Event</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#searchcontrollerconfig" class="tsd-kind-icon">Search<wbr>Controller<wbr>Config</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>