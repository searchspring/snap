<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@searchspring/snap-client</title>
	<meta name="description" content="Documentation for @searchspring/snap-client">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@searchspring/snap-client</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@searchspring/snap-client</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#snap-javascript-client" id="snap-javascript-client" style="color: inherit; text-decoration: none;">
					<h1>Snap Javascript Client</h1>
				</a>
				<p>Simple Javascript client for communicating with the Searchspring Snap API.</p>
				<hr>
				<a href="#quick-links" id="quick-links" style="color: inherit; text-decoration: none;">
					<h1>Quick Links</h1>
				</a>
				<p><a href="https://snapi.kube.searchspring.io/api/v1/">Snap API docs</a> - Search &amp; Autocomplete API documentation</p>
				<p><a href="https://searchspring.github.io/snapi-explorer/">Snapi Explorer</a> - a tool for making requests to Searchspring&#39;s API</p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h1>Installation</h1>
				</a>
				<pre><code class="language-bash"><span style="color: #000000">npm install --save @searchspring/snap-client</span>
</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h1>Usage</h1>
				</a>
				<a href="#import" id="import" style="color: inherit; text-decoration: none;">
					<h2>Import</h2>
				</a>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Client</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@searchspring/snap-client&#039;</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#global-config" id="global-config" style="color: inherit; text-decoration: none;">
					<h2>Global Config</h2>
				</a>
				<p>Client is constructed with <code>globals</code>.  </p>
				<p>Globals are API parameters that will be applied to all searches requested by the client. This will typically contain just the <em>siteId</em>; but could also include global filters, background filters, sorts, or merchandising segments.</p>
				<p><code>siteId</code> (required)</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">globals</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">siteId:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;a1b2c3&#039;</span>
<span style="color: #000000">};</span>
</code></pre>
				<p>Any other keys defined here will be passed to the API request</p>
				<p>For a full list of parameters please see the <a href="https://snapi.kube.searchspring.io/api/v1/">Snap API docs</a></p>
				<p>For example, with background filter:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">globals</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">siteId:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;a1b2c3&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">filters:</span><span style="color: #000000"> [{</span>
<span style="color: #000000">    </span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;stock_status&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;yes&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">type:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;value&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">background:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span>
<span style="color: #000000">  }]</span>
<span style="color: #000000">};</span>
</code></pre>
				<a href="#client-config" id="client-config" style="color: inherit; text-decoration: none;">
					<h2>Client Config</h2>
				</a>
				<p>Object required for all controllers</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">export</span><span style="color: #000000"> </span><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99">ClientConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">meta</span><span style="color: #000000">?: {</span>
<span style="color: #000000">        </span><span style="color: #001080">prefetch</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">ttl</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">api</span><span style="color: #000000">?: </span><span style="color: #267F99">SnapApiConfig</span><span style="color: #000000">;</span>
<span style="color: #000000">    };</span>
<span style="color: #000000">    </span><span style="color: #001080">search</span><span style="color: #000000">?: {</span>
<span style="color: #000000">        </span><span style="color: #001080">api</span><span style="color: #000000">?: </span><span style="color: #267F99">SnapApiConfig</span><span style="color: #000000">;</span>
<span style="color: #000000">    };</span>
<span style="color: #000000">    </span><span style="color: #001080">autocomplete</span><span style="color: #000000">?: {</span>
<span style="color: #000000">        </span><span style="color: #001080">api</span><span style="color: #000000">?: </span><span style="color: #267F99">SnapApiConfig</span><span style="color: #000000">;</span>
<span style="color: #000000">    };</span>
<span style="color: #000000">    </span><span style="color: #001080">trending</span><span style="color: #000000">?: {</span>
<span style="color: #000000">        </span><span style="color: #001080">prefetch</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">ttl</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #001080">api</span><span style="color: #000000">?: </span><span style="color: #267F99">SnapApiConfig</span><span style="color: #000000">;</span>
<span style="color: #000000">    };</span>
<span style="color: #000000">};</span>

<span style="color: #AF00DB">export</span><span style="color: #000000"> </span><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99">SnapApiConfig</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">host</span><span style="color: #000000">?: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">path</span><span style="color: #000000">?: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">};</span>
</code></pre>
				<a href="#controller-usage" id="controller-usage" style="color: inherit; text-decoration: none;">
					<h2>Controller usage</h2>
				</a>
				<p>Snap Client is a dependency of Snap Controller and it is recommended to use the Controller&#39;s <code>search</code> method to perform a search. </p>
				<a href="#standalone-usage" id="standalone-usage" style="color: inherit; text-decoration: none;">
					<h2>Standalone usage</h2>
				</a>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">client</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Client</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">results</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">search:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">query:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">string:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;dress&#039;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#search-method" id="search-method" style="color: inherit; text-decoration: none;">
					<h2><code>search</code> method</h2>
				</a>
				<p>Makes a request to the Searchspring Search API and returns a promise.  </p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">client</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Client</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">results</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">search:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">query:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">string:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;dress&#039;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#autocomplete-method" id="autocomplete-method" style="color: inherit; text-decoration: none;">
					<h2><code>autocomplete</code> method</h2>
				</a>
				<p>Makes a request to the Searchspring Autocomplete API and returns a promise.  </p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">client</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Client</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">results</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">autocomplete</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">suggestions:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">count:</span><span style="color: #000000"> </span><span style="color: #098658">5</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #001080">search:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">query:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">string:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;yellw&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">spellCorrection:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#meta-property" id="meta-property" style="color: inherit; text-decoration: none;">
					<h2><code>meta</code> property</h2>
				</a>
				<p>The meta property contains the metadata related to the siteId that the client was instantiated with. This data is to be used together with search results. Metadata contains site configuration like facet and sorting information.</p>
				<p>Note that the <code>search</code> method sets the <code>meta</code> property, therefore it must be called before attempting to access the <code>meta</code> property.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">client</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Client</span><span style="color: #000000">(</span><span style="color: #001080">globals</span><span style="color: #000000">, </span><span style="color: #001080">clientConfig</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">results</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">search:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">query:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">string:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;dress&#039;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">});</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">meta</span><span style="color: #000000"> = </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">meta</span><span style="color: #000000">;</span>
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/client.html" class="tsd-kind-icon">Client</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#clientconfig" class="tsd-kind-icon">Client<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#clientglobals" class="tsd-kind-icon">Client<wbr>Globals</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>