<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@searchspring/snap-client</title><meta name="description" content="Documentation for @searchspring/snap-client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@searchspring/snap-client</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@searchspring/snap-client</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#snap-javascript-client" id="snap-javascript-client" style="color: inherit; text-decoration: none;">
  <h1>Snap Javascript Client</h1>
</a>
<p>Simple Javascript client for communicating with the Searchspring Snap API.</p>

<a href="#quick-links" id="quick-links" style="color: inherit; text-decoration: none;">
  <h2>Quick Links</h2>
</a>
<p><a href="https://snapi.kube.searchspring.io/api/v1/">Snap API docs</a> - Search &amp; Autocomplete API documentation</p>
<p><a href="https://searchspring.github.io/snapi-explorer/">Snapi Explorer</a> - a tool for making requests to Searchspring&#39;s API</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<pre><code class="language-bash"><span class="hl-0">npm install --save @searchspring/snap-client</span>
</code></pre>

<a href="#import" id="import" style="color: inherit; text-decoration: none;">
  <h2>Import</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">Client</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@searchspring/snap-client&#39;</span><span class="hl-0">;</span>
</code></pre>

<a href="#global-config" id="global-config" style="color: inherit; text-decoration: none;">
  <h2>Global Config</h2>
</a>
<p>Client is constructed with <code>globals</code>.  </p>
<p>Globals are API parameters that will be applied to all searches requested by the client. This will typically contain just the <em>siteId</em>; but could also include global filters, background filters, sorts, or merchandising segments.</p>
<p><code>siteId</code> (required)</p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">globals</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-2">siteId:</span><span class="hl-0"> </span><span class="hl-3">&#39;a1b2c3&#39;</span><br/><span class="hl-0">};</span>
</code></pre>
<p>Any other keys defined here will be passed to the API request</p>
<p>For a full list of parameters please see the <a href="https://snapi.kube.searchspring.io/api/v1/">Snap API docs</a></p>
<p>For example, with background filter:</p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">globals</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-2">siteId:</span><span class="hl-0"> </span><span class="hl-3">&#39;a1b2c3&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">filters:</span><span class="hl-0"> [{</span><br/><span class="hl-0">    </span><span class="hl-2">field:</span><span class="hl-0"> </span><span class="hl-3">&#39;stock_status&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">value:</span><span class="hl-0"> </span><span class="hl-3">&#39;yes&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">type:</span><span class="hl-0"> </span><span class="hl-3">&#39;value&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">background:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">  }]</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#client-config" id="client-config" style="color: inherit; text-decoration: none;">
  <h2>Client Config</h2>
</a>
<p>Object required for all controllers</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">type</span><span class="hl-0"> </span><span class="hl-6">ClientConfig</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-2">meta</span><span class="hl-0">?: {</span><br/><span class="hl-0">        </span><span class="hl-2">prefetch</span><span class="hl-0">?: </span><span class="hl-6">boolean</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-2">ttl</span><span class="hl-0">?: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-2">api</span><span class="hl-0">?: </span><span class="hl-6">SnapApiConfig</span><span class="hl-0">;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-2">search</span><span class="hl-0">?: {</span><br/><span class="hl-0">        </span><span class="hl-2">api</span><span class="hl-0">?: </span><span class="hl-6">SnapApiConfig</span><span class="hl-0">;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-2">autocomplete</span><span class="hl-0">?: {</span><br/><span class="hl-0">        </span><span class="hl-2">api</span><span class="hl-0">?: </span><span class="hl-6">SnapApiConfig</span><span class="hl-0">;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-2">trending</span><span class="hl-0">?: {</span><br/><span class="hl-0">        </span><span class="hl-2">prefetch</span><span class="hl-0">?: </span><span class="hl-6">boolean</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-2">ttl</span><span class="hl-0">?: </span><span class="hl-6">number</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-2">api</span><span class="hl-0">?: </span><span class="hl-6">SnapApiConfig</span><span class="hl-0">;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">};</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">type</span><span class="hl-0"> </span><span class="hl-6">SnapApiConfig</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-2">host</span><span class="hl-0">?: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-2">path</span><span class="hl-0">?: </span><span class="hl-6">string</span><span class="hl-0">;</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#controller-usage" id="controller-usage" style="color: inherit; text-decoration: none;">
  <h2>Controller usage</h2>
</a>
<p>Snap Client is a dependency of Snap Controller and it is recommended to use the Controller&#39;s <code>search</code> method to perform a search. </p>

<a href="#standalone-usage" id="standalone-usage" style="color: inherit; text-decoration: none;">
  <h2>Standalone usage</h2>
</a>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">client</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">Client</span><span class="hl-0">(</span><span class="hl-2">globals</span><span class="hl-0">, </span><span class="hl-2">clientConfig</span><span class="hl-0">);</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">results</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-7">search</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">search:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">query:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">string:</span><span class="hl-0"> </span><span class="hl-3">&#39;dress&#39;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#search-method" id="search-method" style="color: inherit; text-decoration: none;">
  <h2><code>search</code> method</h2>
</a>
<p>Makes a request to the Searchspring Search API and returns a promise.  </p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">client</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">Client</span><span class="hl-0">(</span><span class="hl-2">globals</span><span class="hl-0">, </span><span class="hl-2">clientConfig</span><span class="hl-0">);</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">results</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-7">search</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">search:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">query:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">string:</span><span class="hl-0"> </span><span class="hl-3">&#39;dress&#39;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#autocomplete-method" id="autocomplete-method" style="color: inherit; text-decoration: none;">
  <h2><code>autocomplete</code> method</h2>
</a>
<p>Makes a request to the Searchspring Autocomplete API and returns a promise.  </p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">client</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">Client</span><span class="hl-0">(</span><span class="hl-2">globals</span><span class="hl-0">, </span><span class="hl-2">clientConfig</span><span class="hl-0">);</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">results</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-7">autocomplete</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">suggestions:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">count:</span><span class="hl-0"> </span><span class="hl-8">5</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-2">search:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">query:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">string:</span><span class="hl-0"> </span><span class="hl-3">&#39;yellw&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-2">spellCorrection:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#meta-property" id="meta-property" style="color: inherit; text-decoration: none;">
  <h2><code>meta</code> property</h2>
</a>
<p>The meta property contains the metadata related to the siteId that the client was instantiated with. This data is to be used together with search results. Metadata contains site configuration like facet and sorting information.</p>
<p>Note that the <code>search</code> method sets the <code>meta</code> property, therefore it must be called before attempting to access the <code>meta</code> property.</p>
<pre><code class="language-typescript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">client</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">Client</span><span class="hl-0">(</span><span class="hl-2">globals</span><span class="hl-0">, </span><span class="hl-2">clientConfig</span><span class="hl-0">);</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">results</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-7">search</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">search:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">query:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">string:</span><span class="hl-0"> </span><span class="hl-3">&#39;dress&#39;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">meta</span><span class="hl-0"> = </span><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-2">meta</span><span class="hl-0">;</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/Client.html" class="tsd-kind-icon">Client</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ClientConfig" class="tsd-kind-icon">Client<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ClientGlobals" class="tsd-kind-icon">Client<wbr/>Globals</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>